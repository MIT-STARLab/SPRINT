{
    "version": "0.8",
    "scenario_params": {
        "start_utc": "2018-01-18T00:00:00.000000Z",
        "end_utc": "2018-01-19T00:00:00.000000Z",
        "timestep_s": 10.0,
        "use_crosslinks": true,
        "all_sats_same_time_system": true,
        "matlab_verbose": true
    },
    "general_orbit_prop_params": {
        "include_ecef_output": false
    },
    "sat_params": {
        "num_satellites": 30,
        "sat_id_prefix": "sat",
        "sat_id_order": "default",
        "_comments": [
            "assuming a 6U bus here",
            "127.5 Mbps is from hyperspectral imager design in Tsitas, S. R., '6U CubeSat design for Earth observation with 6.5 m GSD, five spectral bands and 14 Mbps downlink,' The Aeronautical Journal, vol. 114, 2010, pp. 689–697."
        ],
        "payload_data_rate_Mbps": 127.5,
        "power_params": [
            {
                "sat_id_prefix": "sat",
                "_comments": [
                    "these params are parsed in circinus_tools/io_tools.py. That file should be kept up to date with any changes here.",
                    "most of the power consumption and energy constraints were taken from the 2016 Kennedy, Cahoy JAIS paper. Xlnk and Dlnk power taken from the MDO paper, which as of March 2018 is not quite published. Orbit average charging was calculated from the 8.25 Wh figure (8.25 + 20% margin, all acquired over ~55 minutes of in-sunlight time in a 600 km orbit for 11.25 watts average during sunlight) from page 12 of Smallsat 2014 MiRaTA paper - Blackwell, W. J. et al, Microwave Radiometer Technology Acceleration Mission (MiRaTA): Advancing Weather Remote Sensing with Nanosatellites",
                    "For X-band (BBSDR/SFN,fixed rate), got info from http://spaceflight.com/wp-content/uploads/2017/06/SF-Networks-Data-Sheet.pdf and http://www.spaceflight.com/wp-content/uploads/2015/05/BitBeam-BBSDR_Leaflet.pdf. Assumed power consumption equal to their max number, 12.3W",
                    "for power params, used the Clydspace brochure here: https://www.clyde.space/what-we-do/platforms."
                ],
                "sat_ids": "duplicate,range_inclusive,0,29",
                "base_option": "Kit ballpark",
                "obs_option": "Hyperspectral imager (Tsitas and Kingston, 2010)",
                "dlnk_option": "X-band (BBSDR/SFN,fixed rate)",
                "xlnk_tx_option": "NODE 2.0 (MDO 2018)",
                "xlnk_rx_option": "Kit ballpark",
                "orbit_insunlight_average_charging_option": "Clydspace 6U spec 2018",
                "battery_option": "Clydspace 6U spec 2018",
                "power_consumption_W": {
                    "_comments": [
                        "brochure says >24W orbit average. Using the same number from the 600 km SSO orbit: eclipse is about 35 mins out of about 95 min orbit period. So 24.0*95/(95-35) = 38 W is about the average power in sunlight",
                        "for base power consumption, took MiRaTA number and doubled it. Should account for beefier ADCS, more capable processor (which could be duty cycled)"
                    ],
                    "base": {
                        "MiRaTA-like (JAIS 2016)": -6.4,
                        "Kit ballpark": -12.8,
                        "test": 0
                    },
                    "obs":  {
                        "Hyperspectral imager (Tsitas and Kingston, 2010)": -10
                    },
                    "dlnk": {
                       "X-band (MDO 2018)":  -10,
                       "X-band (BBSDR/SFN,fixed rate)":  -12.3
                    },
                    "xlnk_tx": {
                        "NODE 2.0 (MDO 2018)": -12
                    },
                    "xlnk_rx": {
                        "Kit ballpark": -5
                    },
                    "orbit_insunlight_average_charging": {
                        "MiRaTA-like (Smallsat 2014)": 11.25,
                        "Clydspace 6U spec 2018": 38.0
                    }
                },
                "battery_storage_Wh": {
                    "_comments": [
                        " charge and discharge efficiencies are from (Tsitas and Kingston, 2010)",
                        "for Clydspace 6U spec 2018, allowing 40% DOD (probably too much...)"
                    ],
                    "e_min": {
                        "MiRaTA-like (JAIS 2016)": 14,
                        "Clydspace 6U spec 2018": 24,
                        "test": 5
                    },
                    "e_max": {
                        "MiRaTA-like (JAIS 2016)": 20,
                        "Clydspace 6U spec 2018": 40,
                        "test": 30
                    },
                    "charge_efficiency": 0.7,
                    "discharge_efficiency": 0.9
                }
            }
        ],
        "data_storage_params": [
            {
                "_comments": [
                    "data storage chosen based on availability of industrial SD cards. chose 32 from the top of Delkin's industrial card storage range: https://www.delkin.com/products/industrial-sd/. Note that clydespace 6U bus comes with 4GB storage, but I'm assuming it'll be okay to use an industrial flash chip"
                ],
                "sat_id_prefix": "sat",
                "sat_ids": "duplicate,range_inclusive,0,29",
                "storage_option": "test",
                "data_storage_Gbit": {
                    "d_min": {
                        "test": 0
                    },
                    "d_max": {
                        "test": 32
                    }
                }
            }
        ],
        "initial_state": [
            {
                "sat_id_prefix": "sat",
                "sat_ids": "duplicate,range_inclusive,0,29",
                "batt_e_Wh": 40
            }
        ],
        "activity_params": {
            "_comments" : [
                "orbit_neighbor_direction_method specifies how to figure out which direction an orbit neighbor is in, for determining activity transition times. by_increasing_sat_index means that if the receive sat index is larger than tx sat index (i.e. further in sat_id_order list) then the crosslink is in an INCREASING direction",
                ""
            ],
            "params_option": "test_notrans",
            "intra-orbit_neighbor_direction_method": "by_increasing_sat_index",
            "transition_time_s": {
                "_comment": "the structure here is the following: transition context (e.g. inter-sat) -> act1/act2 transition activities -> transition type -> params option",
                "inter-sat": {
                    "_comments": [
                        " this accounts for activity transitions across satellites. the only real use case I can see right now is transitioning between satellites for downlink at the ground station",
                        ""
                    ],
                    "default": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0}},
                    "dlnk-dlnk": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 60}}
                },
                "intra-sat": {
                    "_comments": [
                        " these transition times account for changes in activity choice on a single given satellite. ",
                        "The transition time requirements within here assume a 0.5 deg/sec slew rate for spacecraft. This is based on the (slow) slew rate used for the MiRaTA spacecraft. See Cahoy, K. L., Marinan, A., Marlow, W., Cordeiro, T., Blackwell, W. J., Bishop, R., and Erickson, N., 'Development Of The Microwave Radiometer Technology Acceleration ( MiRaTA ) Cubesat For All-Weather Atmospheric Sounding,' IGARSS 2015, Milan, Italy: IEEE, 2015, pp. 5304–5307.",
                        "for downlink, assumed a patch antenna like the syrlinks SPAN-X-T2 can be used for X-band, and that multiple of them can be mounted so that no repointing is required in order to perform high-rate downlink",
                        "obs-xlnk,xlnk-obs:  assuming that observation payload is mounted 90° from lasercomm cross-link",
                        "xlnk-xlnk:  assuming either 90 or 180° slews.  assumed 180 when fully changing directions ( including when changing to a different inter-orbit, because I assume that a change in inter-orbit means you're using the orbit on the opposite side) and 90 when transitioning from intra orbit to inter orbit and back ( because I assume that inter-orbits are always roughly in the orbit normal direction)"
                    ],
                    "obs-obs": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0}},
                    "obs-xlnk": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 180}},
                    "obs-dlnk": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0}},
                    "dlnk-obs": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0}},
                    "dlnk-xlnk": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0}},
                    "dlnk-dlnk": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0}},
                    "xlnk-obs": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 180}},
                    "xlnk-xlnk": {
                        "intra-orbit,same direction": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0},
                        "intra-orbit,different direction": {"test_notrans": 0, "test_xlnk_txrx_one_side": 360},
                        "intra to inter-orbit/inter to intra-orbit": {"test_notrans": 0, "test_xlnk_txrx_one_side": 360},
                        "inter-orbit,same orbit,same satellite": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0},
                        "inter-orbit,same orbit,different satellite": {"test_notrans": 0, "test_xlnk_txrx_one_side": 360},
                        "inter-orbit,different orbit": {"test_notrans": 0, "test_xlnk_txrx_one_side": 360}
                    },
                    "xlnk-dlnk": {"default": {"test_notrans": 0, "test_xlnk_txrx_one_side": 0}}
                }
            },
            "min_duration_s": {
                "obs": 15,
                "dlnk": 60,
                "xlnk": 60
            }
        }
    },
    "orbit_params" : {
        "_comments": [
            "sat_ids_by_orbit identifies which satellite ids are in which orbit. All sat ids should be accounted for. Sat ids should be stored in INCREASING order within the list for each orbit (this figures in to cross-link directionality for transition times)",
            ""
        ],
        "sat_ids_by_orbit_name": {
            "orbit0": ["sat0","sat1","sat2","sat3","sat4","sat5","sat6","sat7","sat8","sat9"],
            "orbit1": ["sat10","sat11","sat12","sat13","sat14","sat15","sat16","sat17","sat18","sat19"],
            "orbit2": ["sat20","sat21","sat22","sat23","sat24","sat25","sat26","sat27","sat28","sat29"]
        },
        "sat_orbital_elems": [
            {
                "sat_id_prefix": "sat",
                "sat_ids": "synthesize,range_inclusive,0,29",
                "walker": {
                    "num_sats": 30,
                    "i_deg": 30,
                    "num_planes": 3,
                    "f_relative_spacing": 1,
                    "a_km": 6978,
                    "RAAN_p1_deg": 0,
                    "M_p1_deg": 0
                },
                "propagation_method": "matlab_delkep"
            }
        ]
    },
    "obs_params": {
        "num_targets": 40,
        "target_set_name": "Obs targets tropics land loose 40 (mod from CIRCINUS tools 8d22f88c)",
        "target_set_version": "1",
        "target_set_id": "3",
        "elevation_cutoff_deg":60,
        "targets": [
            {"id": "targ1","name": "lower US upper Mexico 1","name_pretty": "obs1","latitude_deg": 27.25,"longitude_deg": -101.75,"height_m": 0},
            {"id": "targ3","name": "Mexico and Caribbean islands 0","name_pretty": "obs3","latitude_deg": 19.75,"longitude_deg": -102.75,"height_m": 0},
            {"id": "targ5","name": "Mexico and Caribbean islands 2","name_pretty": "obs5","latitude_deg": 19.75,"longitude_deg": -86.35,"height_m": 0},
            {"id": "targ9","name": "Panama and upper South America 1","name_pretty": "obs9","latitude_deg": 11.25,"longitude_deg": -79.25,"height_m": 0},
            {"id": "targ11","name": "Panama and upper South America 3","name_pretty": "obs11","latitude_deg": 11.25,"longitude_deg": -62.25,"height_m": 0},
            {"id": "targ13","name": "upper mid South America 1","name_pretty": "obs13","latitude_deg": -14.875,"longitude_deg": -66.375,"height_m": 0},
            {"id": "targ15","name": "upper mid South America 3","name_pretty": "obs15","latitude_deg": -14.875,"longitude_deg": -43.375,"height_m": 0},
            {"id": "targ16","name": "upper mid South America 4","name_pretty": "obs16","latitude_deg": -8.625,"longitude_deg": -77.875,"height_m": 0},
            {"id": "targ18","name": "upper mid South America 6","name_pretty": "obs18","latitude_deg": -8.625,"longitude_deg": -54.875,"height_m": 0},
            {"id": "targ21","name": "upper mid South America 9","name_pretty": "obs21","latitude_deg": -2.375,"longitude_deg": -66.375,"height_m": 0},
            {"id": "targ23","name": "upper mid South America 11","name_pretty": "obs23","latitude_deg": -2.375,"longitude_deg": -43.375,"height_m": 0},
            {"id": "targ26","name": "upper mid South America 14","name_pretty": "obs26","latitude_deg": 3.875,"longitude_deg": -54.875,"height_m": 0},
            {"id": "targ27","name": "lower mid South America 0","name_pretty": "obs27","latitude_deg": -27.0,"longitude_deg": -69.0,"height_m": 0},
            {"id": "targ29","name": "lower mid South America 2","name_pretty": "obs29","latitude_deg": -27.0,"longitude_deg": -47.66666666666667,"height_m": 0},
            {"id": "targ34","name": "sub-Saharan Africa 2","name_pretty": "obs34","latitude_deg": 5.8500000000000005,"longitude_deg": 8.483333333333333,"height_m": 0},
            {"id": "targ36","name": "sub-Saharan Africa 4","name_pretty": "obs36","latitude_deg": 5.8500000000000005,"longitude_deg": 31.816666666666663,"height_m": 0},
            {"id": "targ39","name": "sub-Saharan Africa 7","name_pretty": "obs39","latitude_deg": 12.15,"longitude_deg": -3.1833333333333336,"height_m": 0},
            {"id": "targ41","name": "sub-Saharan Africa 9","name_pretty": "obs41","latitude_deg": 12.15,"longitude_deg": 20.15,"height_m": 0},
            {"id": "targ43","name": "sub-Saharan Africa 11","name_pretty": "obs43","latitude_deg": 12.15,"longitude_deg": 43.48333333333333,"height_m": 0},
            {"id": "targ46","name": "lower Africa 3","name_pretty": "obs46","latitude_deg": -20.19,"longitude_deg": 13.27,"height_m": 0},
            {"id": "targ48","name": "lower Africa 5","name_pretty": "obs48","latitude_deg": -20.19,"longitude_deg": 34.60333333333333,"height_m": 0},
            {"id": "targ52","name": "lower Africa 9","name_pretty": "obs52","latitude_deg": -7.109999999999995,"longitude_deg": 13.27,"height_m": 0},
            {"id": "targ54","name": "lower Africa 11","name_pretty": "obs54","latitude_deg": -7.109999999999995,"longitude_deg": 34.60333333333333,"height_m": 0},
            {"id": "targ58","name": "Madagascar 0","name_pretty": "obs58","latitude_deg": -23.0,"longitude_deg": 46.3,"height_m": 0},
            {"id": "targ61","name": "upper Arabian Sea and coast 2","name_pretty": "obs61","latitude_deg": 27.5,"longitude_deg": 49.5,"height_m": 0},
            {"id": "targ65","name": "India 3","name_pretty": "obs65","latitude_deg": 14.375,"longitude_deg": 79.625,"height_m": 0},
            {"id": "targ66","name": "India 4","name_pretty": "obs66","latitude_deg": 20.625,"longitude_deg": 71.125,"height_m": 0},
            {"id": "targ69","name": "India 7","name_pretty": "obs69","latitude_deg": 26.875,"longitude_deg": 79.625,"height_m": 0},
            {"id": "targ75","name": "upper Southeast Asia 5","name_pretty": "obs75","latitude_deg": 27.25,"longitude_deg": 97.25,"height_m": 0},
            {"id": "targ77","name": "upper Southeast Asia 7","name_pretty": "obs77","latitude_deg": 27.25,"longitude_deg": 116.25,"height_m": 0},
            {"id": "targ78","name": "lower Southeast Asia 1","name_pretty": "obs78","latitude_deg": -6.375,"longitude_deg": 104.125,"height_m": 0},
            {"id": "targ80","name": "lower Southeast Asia 3","name_pretty": "obs80","latitude_deg": -6.375,"longitude_deg": 123.125,"height_m": 0},
            {"id": "targ81","name": "lower Southeast Asia 4","name_pretty": "obs81","latitude_deg": 0.875,"longitude_deg": 94.625,"height_m": 0},
            {"id": "targ83","name": "lower Southeast Asia 6","name_pretty": "obs83","latitude_deg": 0.875,"longitude_deg": 113.625,"height_m": 0},
            {"id": "targ88","name": "lower Southeast Asia 11","name_pretty": "obs88","latitude_deg": 8.125,"longitude_deg": 123.125,"height_m": 0},
            {"id": "targ89","name": "lower Southeast Asia 12","name_pretty": "obs89","latitude_deg": 15.375,"longitude_deg": 94.625,"height_m": 0},
            {"id": "targ91","name": "lower Southeast Asia 14","name_pretty": "obs91","latitude_deg": 15.375,"longitude_deg": 113.625,"height_m": 0},
            {"id": "targ94","name": "Papua New Guinea and islands 1","name_pretty": "obs94","latitude_deg": -9.0,"longitude_deg": 143.0,"height_m": 0},
            {"id": "targ95","name": "Papua New Guinea and islands 3","name_pretty": "obs95","latitude_deg": -3.0,"longitude_deg": 132.0,"height_m": 0},
            {"id": "targ98","name": "upper Australia 1","name_pretty": "obs98","latitude_deg": -16.0,"longitude_deg": 134.0,"height_m": 0}
        ]
    },
    "gs_params": {
        "num_stations": 17,
        "gs_network_name": "Space Flight Networks 2017",
        "gs_network_version": "1",
        "_comment": "setting this to 20 deg to be conservative",
        "elevation_cutoff_deg":20,
        "stations": [
            {"id": "gs0", "name": "Prudhoe Bay","name_pretty": "Prudhoe Bay 0","latitude_deg":70.36621,"longitude_deg":-148.745529,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs1", "name": "Fairbanks","name_pretty": "Fairbanks 1","latitude_deg":64.836531,"longitude_deg":-147.651745,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs2", "name": "Seattle","name_pretty": "Seattle 2","latitude_deg":47.606,"longitude_deg":-122.33,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs3", "name": "New Mexico","name_pretty": "New Mexico 3","latitude_deg":32.7872,"longitude_deg":-106.3257,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs4", "name": "New England","name_pretty": "New England 4","latitude_deg":42.94235,"longitude_deg":-71.636095,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs5", "name": "Hawaii","name_pretty": "Hawaii 5","latitude_deg":19.8968,"longitude_deg":-155.5828,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs6", "name": "Florida","name_pretty": "Florida 6","latitude_deg":26.7542,"longitude_deg":-80.9337,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs7", "name": "Argentina","name_pretty": "Argentina 7","latitude_deg":-53.1638,"longitude_deg":-70.9171,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs8", "name": "Brazil","name_pretty": "Brazil 8","latitude_deg":-18.415921,"longitude_deg":-45.633627,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs9", "name": "Munich","name_pretty": "Munich 9","latitude_deg":48.1351,"longitude_deg":11.582,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs10", "name": "Norway","name_pretty": "Norway 10","latitude_deg":67.316,"longitude_deg":14.777,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs11", "name": "South Africa","name_pretty": "South Africa 11","latitude_deg":-25.89,"longitude_deg":27.6853,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs12", "name": "Dubai","name_pretty": "Dubai 12","latitude_deg":25.2048,"longitude_deg":55.2708,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs13", "name": "Singapore","name_pretty": "Singapore 13","latitude_deg":1.3521,"longitude_deg":103.8198,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs14", "name": "Guam","name_pretty": "Guam 14","latitude_deg":13.4443,"longitude_deg":144.7937,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs15", "name": "Japan","name_pretty": "Japan 15","latitude_deg":37.516871,"longitude_deg":139.666454,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"},
            {"id": "gs16", "name": "New Zealand","name_pretty": "New Zealand 16","latitude_deg":-46.512945,"longitude_deg":168.375952,"height_m":0,"comm_type":"X_band_BBSDR_SFN_fixed_rate"}
        ]
    }
}
