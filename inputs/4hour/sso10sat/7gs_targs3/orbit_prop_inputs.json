{
    "version": "0.6",
    "scenario_params": {
        "start_utc": "2018-01-18T00:00:00.000000Z",
        "end_utc": "2018-01-18T04:00:00.000000Z",
        "timestep_s": 10.0,
        "use_crosslinks": true,
        "all_sats_same_time_system": true,
        "matlab_verbose": true
    },
    "general_orbit_prop_params": {
        "include_ecef_output": false
    },
    "sat_params": {
        "num_satellites": 10,
        "sat_id_order": "default",
        "_comments": [
            "assuming a 6U bus here",
            "127.5 Mbps is from hyperspectral imager design in Tsitas, S. R., “6U CubeSat design for Earth observation with 6.5 m GSD, five spectral bands and 14 Mbps downlink,” The Aeronautical Journal, vol. 114, 2010, pp. 689–697."
        ],
        "payload_data_rate_Mbps": 127.5,
        "power_params": [
            {
                "_comments": [
                    "these params are parsed in circinus_tools/io_tools.py. That file should be kept up to date with any changes here.",
                    "most of the power consumption and energy constraints were taken from the 2016 Kennedy, Cahoy JAIS paper. Xlnk and Dlnk power taken from the MDO paper, which as of March 2018 is not quite published. Orbit average charging was calculated from the 8.25 Wh figure (8.25 + 20% margin, all acquired over ~55 minutes of in-sunlight time in a 600 km orbit for 11.25 watts average during sunlight) from page 12 of Smallsat 2014 MiRaTA paper - Blackwell, W. J. et al, Microwave Radiometer Technology Acceleration Mission (MiRaTA): Advancing Weather Remote Sensing with Nanosatellites",
                    "For X-band (BBSDR/SFN,fixed rate), got info from http://spaceflight.com/wp-content/uploads/2017/06/SF-Networks-Data-Sheet.pdf and http://www.spaceflight.com/wp-content/uploads/2015/05/BitBeam-BBSDR_Leaflet.pdf. Assumed power consumption equal to their max number, 12.3W",
                    "for power params, used the Clydspace brochure here: https://www.clyde.space/what-we-do/platforms."
                ],
                "sat_ids": "duplicate,range_inclusive,0,9",
                "base_option": "Kit ballpark",
                "obs_option": "Hyperspectral imager (Tsitas and Kingston, 2010)",
                "dlnk_option": "X-band (BBSDR/SFN,fixed rate)",
                "xlnk_tx_option": "NODE 2.0 (MDO 2018)",
                "xlnk_rx_option": "Kit ballpark",
                "orbit_insunlight_average_charging_option": "Clydspace 6U spec 2018",
                "battery_option": "Clydspace 6U spec 2018",
                "power_consumption_W": {
                    "_comments": [
                        "brochure says >24W orbit average. For 600 km SSO orbit, eclipse is about 35 mins out of about 95 min orbit period. So 24.0*95/(95-35) = 38 W is about the average power in sunlight",
                        "for base power consumption, took MiRaTA number and doubled it. Should account for beefier ADCS, more capable processor (which could be duty cycled)"
                    ],
                    "base": {
                        "MiRaTA-like (JAIS 2016)": -6.4,
                        "Kit ballpark": -12.8,
                        "test": 0
                    },
                    "obs":  {
                        "Hyperspectral imager (Tsitas and Kingston, 2010)": -10
                    },
                    "dlnk": {
                       "X-band (MDO 2018)":  -10,
                       "X-band (BBSDR/SFN,fixed rate)":  -12.3
                    },
                    "xlnk_tx": {
                        "NODE 2.0 (MDO 2018)": -12
                    },
                    "xlnk_rx": {
                        "Kit ballpark": -5
                    },
                    "orbit_insunlight_average_charging": {
                        "MiRaTA-like (Smallsat 2014)": 11.25,
                        "Clydspace 6U spec 2018": 38.0
                    }
                },
                "battery_storage_Wh": {
                    "_comments": [
                        " charge and discharge efficiencies are from (Tsitas and Kingston, 2010)",
                        "for Clydspace 6U spec 2018, allowing 40% DOD (probably too much...)"
                    ],
                    "e_min": {
                        "MiRaTA-like (JAIS 2016)": 14,
                        "Clydspace 6U spec 2018": 24,
                        "test": 5
                    },
                    "e_max": {
                        "MiRaTA-like (JAIS 2016)": 20,
                        "Clydspace 6U spec 2018": 40,
                        "test": 30
                    },
                    "charge_efficiency": 0.7,
                    "discharge_efficiency": 0.9
                }
            }
        ],
        "data_storage_params": [
            {
                "_comments": [
                    "data storage chosen based on availability of industrial SD cards. chose 32 from the top of Delkin's industrial card storage range: https://www.delkin.com/products/industrial-sd/. Note that clydespace 6U bus comes with 4GB storage, but I'm assuming it'll be okay to use an industrial flash chip"
                ],
                "sat_ids": "duplicate,range_inclusive,0,9",
                "storage_option": "test",
                "data_storage_Gbit": {
                    "d_min": {
                        "test": 0
                    },
                    "d_max": {
                        "test": 32
                    }
                }
            }
        ],
        "initial_state": [
            {
                "sat_ids": "duplicate,range_inclusive,0,9",
                "batt_e_Wh": 40
            }
        ],
        "activity_params": {
            "transition_time_s": {
                "inter-sat": {
                    "dlnk-dlnk": 0
                },
                "intra-sat": {
                    "_comment": "todo: if these are explicitly set, need to go back into route selection v2 and add adherence to transition time constraints in individual data routes (otherwise some of the routes selected in RS might be invalid for activity scheduling, and are effectively just clutter) - I currently have not implemented this. Check todos in gp_route_selection_v2"
                },
                "default": 0
            },
            "min_duration_s": {
                "obs": 3,
                "dlnk": 60,
                "xlnk": 20
            }
        }
    },
    "sat_orbit_params": [
        {
            "_comment": "this 'walker' is actually a shortcut to specifying 10 sats in a single orbit",
            "sat_ids": "synthesize,range_inclusive,0,9",
            "walker": {
                "num_sats": 10,
                "i_deg": 98,
                "num_planes": 1,
                "f_relative_spacing": 1,
                "a_km": 6978,
                "RAAN_p1_deg": 0,
                "M_p1_deg": 0
            },
            "propagation_method": "matlab_delkep"
        }
    ],
    "obs_params": {
        "num_targets": 40,
        "target_set_name": "Obs targets tropics land loose 40 (mod from CIRCINUS tools 8d22f88c)",
        "target_set_version": "1",
        "target_set_id": "3",
        "elevation_cutoff_deg":60,
        "targets": [
            {"id": 1,"name": "lower US upper Mexico 1","name_pretty": "obs1","latitude_deg": 27.25,"longitude_deg": -101.75,"height_m": 0},
            {"id": 3,"name": "Mexico and Caribbean islands 0","name_pretty": "obs3","latitude_deg": 19.75,"longitude_deg": -102.75,"height_m": 0},
            {"id": 5,"name": "Mexico and Caribbean islands 2","name_pretty": "obs5","latitude_deg": 19.75,"longitude_deg": -86.35,"height_m": 0},
            {"id": 9,"name": "Panama and upper South America 1","name_pretty": "obs9","latitude_deg": 11.25,"longitude_deg": -79.25,"height_m": 0},
            {"id": 11,"name": "Panama and upper South America 3","name_pretty": "obs11","latitude_deg": 11.25,"longitude_deg": -62.25,"height_m": 0},
            {"id": 13,"name": "upper mid South America 1","name_pretty": "obs13","latitude_deg": -14.875,"longitude_deg": -66.375,"height_m": 0},
            {"id": 15,"name": "upper mid South America 3","name_pretty": "obs15","latitude_deg": -14.875,"longitude_deg": -43.375,"height_m": 0},
            {"id": 16,"name": "upper mid South America 4","name_pretty": "obs16","latitude_deg": -8.625,"longitude_deg": -77.875,"height_m": 0},
            {"id": 18,"name": "upper mid South America 6","name_pretty": "obs18","latitude_deg": -8.625,"longitude_deg": -54.875,"height_m": 0},
            {"id": 21,"name": "upper mid South America 9","name_pretty": "obs21","latitude_deg": -2.375,"longitude_deg": -66.375,"height_m": 0},
            {"id": 23,"name": "upper mid South America 11","name_pretty": "obs23","latitude_deg": -2.375,"longitude_deg": -43.375,"height_m": 0},
            {"id": 26,"name": "upper mid South America 14","name_pretty": "obs26","latitude_deg": 3.875,"longitude_deg": -54.875,"height_m": 0},
            {"id": 27,"name": "lower mid South America 0","name_pretty": "obs27","latitude_deg": -27.0,"longitude_deg": -69.0,"height_m": 0},
            {"id": 29,"name": "lower mid South America 2","name_pretty": "obs29","latitude_deg": -27.0,"longitude_deg": -47.66666666666667,"height_m": 0},
            {"id": 34,"name": "sub-Saharan Africa 2","name_pretty": "obs34","latitude_deg": 5.8500000000000005,"longitude_deg": 8.483333333333333,"height_m": 0},
            {"id": 36,"name": "sub-Saharan Africa 4","name_pretty": "obs36","latitude_deg": 5.8500000000000005,"longitude_deg": 31.816666666666663,"height_m": 0},
            {"id": 39,"name": "sub-Saharan Africa 7","name_pretty": "obs39","latitude_deg": 12.15,"longitude_deg": -3.1833333333333336,"height_m": 0},
            {"id": 41,"name": "sub-Saharan Africa 9","name_pretty": "obs41","latitude_deg": 12.15,"longitude_deg": 20.15,"height_m": 0},
            {"id": 43,"name": "sub-Saharan Africa 11","name_pretty": "obs43","latitude_deg": 12.15,"longitude_deg": 43.48333333333333,"height_m": 0},
            {"id": 46,"name": "lower Africa 3","name_pretty": "obs46","latitude_deg": -20.19,"longitude_deg": 13.27,"height_m": 0},
            {"id": 48,"name": "lower Africa 5","name_pretty": "obs48","latitude_deg": -20.19,"longitude_deg": 34.60333333333333,"height_m": 0},
            {"id": 52,"name": "lower Africa 9","name_pretty": "obs52","latitude_deg": -7.109999999999995,"longitude_deg": 13.27,"height_m": 0},
            {"id": 54,"name": "lower Africa 11","name_pretty": "obs54","latitude_deg": -7.109999999999995,"longitude_deg": 34.60333333333333,"height_m": 0},
            {"id": 58,"name": "Madagascar 0","name_pretty": "obs58","latitude_deg": -23.0,"longitude_deg": 46.3,"height_m": 0},
            {"id": 61,"name": "upper Arabian Sea and coast 2","name_pretty": "obs61","latitude_deg": 27.5,"longitude_deg": 49.5,"height_m": 0},
            {"id": 65,"name": "India 3","name_pretty": "obs65","latitude_deg": 14.375,"longitude_deg": 79.625,"height_m": 0},
            {"id": 66,"name": "India 4","name_pretty": "obs66","latitude_deg": 20.625,"longitude_deg": 71.125,"height_m": 0},
            {"id": 69,"name": "India 7","name_pretty": "obs69","latitude_deg": 26.875,"longitude_deg": 79.625,"height_m": 0},
            {"id": 75,"name": "upper Southeast Asia 5","name_pretty": "obs75","latitude_deg": 27.25,"longitude_deg": 97.25,"height_m": 0},
            {"id": 77,"name": "upper Southeast Asia 7","name_pretty": "obs77","latitude_deg": 27.25,"longitude_deg": 116.25,"height_m": 0},
            {"id": 78,"name": "lower Southeast Asia 1","name_pretty": "obs78","latitude_deg": -6.375,"longitude_deg": 104.125,"height_m": 0},
            {"id": 80,"name": "lower Southeast Asia 3","name_pretty": "obs80","latitude_deg": -6.375,"longitude_deg": 123.125,"height_m": 0},
            {"id": 81,"name": "lower Southeast Asia 4","name_pretty": "obs81","latitude_deg": 0.875,"longitude_deg": 94.625,"height_m": 0},
            {"id": 83,"name": "lower Southeast Asia 6","name_pretty": "obs83","latitude_deg": 0.875,"longitude_deg": 113.625,"height_m": 0},
            {"id": 88,"name": "lower Southeast Asia 11","name_pretty": "obs88","latitude_deg": 8.125,"longitude_deg": 123.125,"height_m": 0},
            {"id": 89,"name": "lower Southeast Asia 12","name_pretty": "obs89","latitude_deg": 15.375,"longitude_deg": 94.625,"height_m": 0},
            {"id": 91,"name": "lower Southeast Asia 14","name_pretty": "obs91","latitude_deg": 15.375,"longitude_deg": 113.625,"height_m": 0},
            {"id": 94,"name": "Papua New Guinea and islands 1","name_pretty": "obs94","latitude_deg": -9.0,"longitude_deg": 143.0,"height_m": 0},
            {"id": 95,"name": "Papua New Guinea and islands 3","name_pretty": "obs95","latitude_deg": -3.0,"longitude_deg": 132.0,"height_m": 0},
            {"id": 98,"name": "upper Australia 1","name_pretty": "obs98","latitude_deg": -16.0,"longitude_deg": 134.0,"height_m": 0}
        ]
    },
    "gs_params": {
        "num_stations": 7,
        "gs_network_name": "Space Flight Networks 2017 - reduced 7gs",
        "gs_network_version": "1",
        "elevation_cutoff_deg":10, 
        "stations": [
            {"id": 3, "name": "New Mexico","name_pretty": "New Mexico 3","latitude_deg":32.7872,"longitude_deg":-106.3257,"height_m":0,"comm_type":"X-band-general"},
            {"id": 5, "name": "Hawaii","name_pretty": "Hawaii 5","latitude_deg":19.8968,"longitude_deg":-155.5828,"height_m":0,"comm_type":"X-band-general"},
            {"id": 8, "name": "Brazil","name_pretty": "Brazil 8","latitude_deg":-18.415921,"longitude_deg":-45.633627,"height_m":0,"comm_type":"X-band-general"},
            {"id": 11, "name": "South Africa","name_pretty": "South Africa 11","latitude_deg":-25.89,"longitude_deg":27.6853,"height_m":0,"comm_type":"X-band-general"},
            {"id": 12, "name": "Dubai","name_pretty": "Dubai 12","latitude_deg":25.2048,"longitude_deg":55.2708,"height_m":0,"comm_type":"X-band-general"},
            {"id": 13, "name": "Singapore","name_pretty": "Singapore 13","latitude_deg":1.3521,"longitude_deg":103.8198,"height_m":0,"comm_type":"X-band-general"},
            {"id": 14, "name": "Guam","name_pretty": "Guam 14","latitude_deg":13.4443,"longitude_deg":144.7937,"height_m":0,"comm_type":"X-band-general"}
        ]
    }
}
